trigger:
  - develop

pool:
  name: Default

variables:
  MAVEN_OPTS: "-Xmx1024m"
  -group: Grupo-de-variables-1

steps:
  - task: SonarQubePrepare@5
    inputs:
      SonarQube: 'hello-world-sonar-ADO'
      scannerMode: 'Other'
      configMode: 'manual'
      cliProjectKey: 'hello-sonar'
      cliProjectName: 'hello-sonar'
      extraProperties: |
        sonar.sources=src
        sonar.java.binaries=target/classes

  - task: Maven@3
    inputs:
      mavenPomFile: 'pom.xml'
      goals: 'clean verify sonar:sonar'
      options: '-DskipTests=false'
      publishJUnitResults: true
      testResultsFiles: '**/surefire-reports/TEST-*.xml'
